@page "/Posts"
@using BlazorApp1.Services
@using DataTransferObjects

<h3>Posts</h3>
<PageTitle>Post</PageTitle>

<h3>Write a post!</h3>
<EditForm Model="@post" OnValidSubmit="HandleSubmit">
    <DataAnnotationsValidator/>
    <ValidationSummary/>

    <div>
        <label>Title:</label>
        <InputText @bind-Value="post.Title"/>
    </div>
    <div>
        <label>Content:</label>
        <InputTextArea @bind-Value="post.Content"/>
    </div>
    <button type="submit">Submit Post</button>
</EditForm>

@if (createdPost != null)
{
    <p>Post created successfully! Title: @createdPost.Title</p>
}

@code {
    private CreatePostDTO post = new CreatePostDTO();
    private CompletePostDTO createdPost;

    private async Task HandleSubmit()
    {
        HandleSubmit();
    }

}